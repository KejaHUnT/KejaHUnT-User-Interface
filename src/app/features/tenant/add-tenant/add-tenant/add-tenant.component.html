<div class="container">

    <h1 class="mt-3">Add New Tenant</h1>

    <form #form="ngForm" (ngSubmit)="onFormSubmit()">
        <div class="mt-2 mb-5">
            <div class="mt-3">
                <label for="fullName" class="form-label">Name</label>
                <input type="text"
                    id="fullName"
                    name="fullName"
                    class="form-control"
                    [(ngModel)]="model.fullName">
            </div>

            <div class="mt-3">
                <label for="phoneNumber" class="form-label">Phone Number</label>
                <input type="text"
                    id="phoneNumber"
                    name="phoneNumber"
                    class="form-control"
                    [(ngModel)]="model.phoneNumber">
            </div>

            <div class="mt-3">
                <label for="idNo" class="form-label">Id Number</label>
                <input type="number"
                    id="idNo"
                    name="idNo"
                    class="form-control"
                    [(ngModel)]="model.idNo">
            </div>

            <div class="mt-3">
                <label for="email" class="form-label">Email</label>
                <input type="text"
                    id="email"
                    name="email"
                    class="form-control"
                    [(ngModel)]="model.email">
            </div>

            <div class="mt-3">
                <label for="employer" class="form-label">Employer</label>
                <input type="text"
                    id="employer"
                    name="employer"
                    class="form-control"
                    [(ngModel)]="model.employer">
            </div>

            <!-- UNITS SECTION -->
<div class="mt-4">
    <h5>Units</h5>
  
    <!-- Loop through each unit in model.units -->
    <div *ngFor="let unit of model.units; let i = index" class="card p-3 mb-3 shadow-sm">
  
      <!-- Unit Price -->
      <div class="mb-2">
        <label class="form-label">Price</label>
        <input
          type="number"
          class="form-control"
          name="unitPrice{{i}}"
          [(ngModel)]="unit.price"
          required
          min="0"
        />
      </div>
  
      <!-- Unit Type -->
      <div class="mb-2">
        <label class="form-label">Type</label>
        <input
          type="text"
          class="form-control"
          name="unitType{{i}}"
          [(ngModel)]="unit.type"
          required
        />
      </div>
  
      <!-- Bathrooms -->
      <div class="mb-2">
        <label class="form-label">Bathrooms</label>
        <input
          type="text"
          class="form-control"
          name="unitBathrooms{{i}}"
          [(ngModel)]="unit.bathrooms"
          required
        />
      </div>
  
      <!-- Size -->
      <div class="mb-2">
        <label class="form-label">Size (square metre)</label>
        <input
          type="number"
          class="form-control"
          name="unitSize{{i}}"
          [(ngModel)]="unit.size"
          required
          min="0"
        />
      </div>
  
      <!-- Number of Units -->
      <div class="mb-2">
        <label class="form-label">Number of Units</label>
        <input
          type="number"
          class="form-control"
          name="unitNoOfUnits{{i}}"
          [(ngModel)]="unit.noOfUnits"
          required
          min="1"
        />
      </div>
  
      <!-- Remove this unit -->
      <button
        type="button"
        class="btn btn-danger btn-sm mt-2"
        (click)="model.units.splice(i, 1)"
      >
        Remove Unit
      </button>
    </div>
  
    <!-- Add New Unit Button -->
    <button
      type="button"
      class="btn btn-outline-primary"
      (click)="model.units.push({ price: 0, type: '', bathrooms: '', size: 0, noOfUnits: 1 })"
    >
      Add Unit
    </button>
  </div>
  
  <div class="mt-3">
    <label for="createdBy" class="form-label">Created By</label>
    <input type="text"
        id="createdBy"
        name="createdBy"
        class="form-control"
        [(ngModel)]="model.createdBy">
</div>
            
            <div class="mt-3">
                <button type="submit" class="btn btn-primary">Save</button>
             </div>

        </div>

        

    </form>
</div>


<!-- <div class="images-container-modal" [ngClass]="{'d-block': isImageSelectorVisisble, 'd-none': !isImageSelectorVisisble}">
    <button type="button" class="btn btn-light" style="position: fixed; top: 10px; right: 10px" (click)="closeImageSelector()">X</button>
    <app-image-selector></app-image-selector>
</div> -->